<h1>Blake Search</h1>
<div class="row">

    <div class="col-xs-4"></div>
</div>
<hr>
<div class="row">
    <form ng-submit="search()">
    <div class="col-md-offset-1 col-md-3">
        <h3>Restrict date range:</h3>

        <div range-slider min="1772" max="1827" show-values="true" model-min="searchConfig.minDate"
             model-max="searchConfig.maxDate"></div>
        <ul class="list-inline">
            <li style="padding-bottom: 10px"><input type="checkbox" ng-model="searchConfig.useCompDate">Composition date
            </li>
            <li><input type="checkbox" ng-model="searchConfig.usePrintDate">Printing date</li>
        </ul>
    </div>
    <div class="col-md-1">
        <div class="btn-group" dropdown is-open="isOpen">
        <button id="search-type-button" type="button" class="btn btn-primary dropdown-toggle" dropdown-toggle>Search Type</button>
        <ul dropdown-menu class="dropdown-menu" role="menu" aria-labelledby="search-type-button">
            <li>
                <input type="checkbox" ng-model="searchConfig.searchTitle">Title
            </li>
            <li>
                <input type="checkbox" ng-model="searchConfig.searchText">Transcriptions
            </li>
            <li>
                <input type="checkbox" ng-model="searchConfig.searchWorkInformation">Editors' notes
            </li>
            <li>
                <input type="checkbox" ng-model="searchConfig.searchImageKeywords">Image tags
            </li>
            <li>
                <input type="checkbox" ng-model="searchConfig.searchImageDescriptions">Illustration descriptions
            </li>
        </ul>
            </div>
        </div>
        <div class="col-md-2">
            <input type="text" class="form-control" placeholder="Search the Blake Archive"
                   ng-model="searchConfig.searchString">
        </div>
        <div class="col-md-1">
            <button id="search-button" class="btn btn-primary btn-block">Search</button>
        </div>
    </form>
</div>
<div class="row">
    <div class="col-md-offset-1 col-md-10">
        <div ng-hide="workResultsInDateRange('title_results').length > 0 ||
                      workResultsInDateRange('work_info_results').length > 0 ||
                      objectResultsInDateRange('title_results').length > 0 ||
                      objectResultsInDateRange('tag_results').length > 0 ||
                      objectResultsInDateRange('description_results').length > 0">
            No results found
        </div>
        <div ng-show="objectResultsInDateRange('title_results').length > 0">
            <h3>Objects with a matching title</h3>

            <div class="row">
                <ul class="list-unstyled">
                    <li ng-repeat="obj in objectResultsInDateRange('title_results')" class="col-sm-12 col-md-4 handprint-block">

                        <a href="/blake/copy/{{ obj.copy_id }}/{{ obj.id }}">
          <span class="object-img"
                style="background-image: url(http://www.blakearchive.org/blake/images/{{ obj.dbi }}.100.jpg);"></span>
                <span
                        class="description"><strong>{{ obj.title }}</strong></span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div ng-show="objectResultsInDateRange('tag_results').length > 0">
            <h3>Objects with a matching image tag</h3>

            <div class="row">
                <ul class="list-unstyled">
                    <li ng-repeat="obj in objectResultsInDateRange('tag_results')" class="col-sm-12 col-md-4 handprint-block">

                        <a href="/blake/copy/{{ obj.copy_id }}/{{ obj.id }}">
          <span class="object-img"
                style="background-image: url(http://www.blakearchive.org/blake/images/{{ obj.dbi }}.100.jpg);"></span>
                <span
                        class="description"><strong>{{ obj.title }}</strong></span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div ng-show="objectResultsInDateRange('description_results').length > 0">
            <h3>Objects with a matching illustration description</h3>

            <div class="row">
                <ul class="list-unstyled">
                    <li ng-repeat="obj in objectResultsInDateRange('description_results')" class="col-sm-12 col-md-4 handprint-block">

                        <a href="/blake/copy/{{ obj.copy_id }}/{{ obj.id }}">
          <span class="object-img"
                style="background-image: url(http://www.blakearchive.org/blake/images/{{ obj.dbi }}.100.jpg);"></span>
                <span
                        class="description"><strong>{{ obj.title }}</strong></span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div ng-show="workResultsInDateRange('title_results').length > 0">
            <h3>Works with a matching title</h3>

            <div class="row">
                <ul class="list-unstyled">
                    <li ng-repeat="work in workResultsInDateRange('title_results')" class="col-sm-6 col-md-3 handprint-block">
                        <a href="/blake/work/{{ work.bad_id }}">
          <span class="object-img"
                style="background-image: url(http://www.blakearchive.org/blake/images/{{ work.image }}.100.jpg);"></span>
                <span
                        class="description"><strong>{{ obj.title }}</strong></span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div ng-show="workResultsInDateRange('work_info_results').length > 0">
            <h3>Works with matching work information or notes</h3>

            <div class="row">
                <ul class="list-unstyled">
                    <li ng-repeat="work in workResultsInDateRange('work_info_results')" class="col-sm-6 col-md-3 handprint-block">
                        <a href="/blake/work/{{ work.bad_id }}">
          <span class="object-img"
                style="background-image: url(http://www.blakearchive.org/blake/images/{{ work.image }}.100.jpg);"></span>
                <span
                        class="description"><strong>{{ obj.title }}</strong></span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>