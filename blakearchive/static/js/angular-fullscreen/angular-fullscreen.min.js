(function(l){var k=function(g){var h=g.module("FBAngular",[]);h.factory("Fullscreen",["$document","$rootScope",function(c,d){var a=c[0],e="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element&&Element.ALLOW_KEYBOARD_INPUT,f=d.$new();c.on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){f.$emit("FBFullscreen.change",b.isEnabled())});var b={$on:g.bind(f,f.$on),all:function(){b.enable(a.documentElement)},enable:function(a){a.requestFullScreen?a.requestFullScreen():
a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?/Version\/[\d]{1,2}(\.[\d]{1,2}){1}(\.(\d){1,2}){0,1} Safari/.test(navigator.userAgent)?a.webkitRequestFullscreen():a.webkitRequestFullscreen(e):a.msRequestFullscreen&&a.msRequestFullscreen()},cancel:function(){a.cancelFullScreen?a.cancelFullScreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.webkitExitFullscreen?a.webkitExitFullscreen():a.msExitFullscreen&&a.msExitFullscreen()},isEnabled:function(){return a.fullscreenElement||
a.mozFullScreenElement||a.webkitFullscreenElement||a.msFullscreenElement?!0:!1},toggleAll:function(){b.isEnabled()?b.cancel():b.all()},isSupported:function(){var b=a.documentElement;return b.requestFullScreen||b.mozRequestFullScreen||b.webkitRequestFullscreen||b.msRequestFullscreen?!0:!1}};return b}]);h.directive("fullscreen",["Fullscreen",function(c){return{link:function(d,a,e){if(e.fullscreen){d.$watch(e.fullscreen,function(b){var d=c.isEnabled();b&&!d?(c.enable(a[0]),a.addClass("isInFullScreen")):
!b&&d&&(c.cancel(),a.removeClass("isInFullScreen"))});var f=c.$on("FBFullscreen.change",function(b,c){c||d.$evalAsync(function(){d.$eval(e.fullscreen+"= false");a.removeClass("isInFullScreen")})});d.$on("$destroy",function(){f()})}else if(void 0===e.onlyWatchedProperty)a.on("click",function(b){c.enable(a[0])})}}}]);return h};"function"===typeof define&&define.amd?define("FBAngular",["angular"],function(g){return k(g)}):k(l.angular)})(window);